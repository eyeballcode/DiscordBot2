let activities = {
  "12PSTA1A": 29848,
  "12PSTA2B": 29875,
  "12PSTA3C": 29900,
  "12PSTA4D": 29926,
  "12PSTA5E": 29951,
  "12PSTA6F": 29979,
  "12PSTB1A": 29849,
  "12PSTB2B": 29876,
  "12PSTB3C": 29901,
  "12PSTB5E": 29952,
  "12PSTB4D": 30068,
  "12PSTB6F": 30077,
  "12PSTC1A": 29850,
  "12PSTC3C": 29902,
  "12PSTC4D": 29927,
  "12PSTC2B": 30062,
  "12PSTC5E": 30074,
  "12SBIO1A": 29851,
  "12SBIO1B": 29852,
  "12SBIO2C": 29877,
  "12SBIO4D": 29930,
  "12SBIO4E": 29931,
  "12SBIO4C": 30069,
  "12SBIO6E": 30078,
  "11TCMP1A": 29853,
  "11TCMP1B": 29854,
  "11EEAL1A": 29855,
  "11EENG1A": 29856,
  "11EENG2B": 29884,
  "11EENG2C": 29885,
  "11EENG3D": 29914,
  "11EENG3E": 29915,
  "11EENG4F": 29936,
  "11EENG6G": 29988,
  "12EENG1A": 29857,
  "12EENG2B": 29886,
  "12EENG2C": 29887,
  "12EENG3D": 29916,
  "12EENG5E": 29963,
  "12EENG5F": 29964,
  "12EENG6G": 29989,
  "12EENG6H": 29990,
  "12SENV1A": 29858,
  "12SENV1B": 29859,
  "12SENV6B": 30079,
  "11HGPL1A": 29860,
  "11HGPL4A": 30071,
  "11MMET1A": 29861,
  "11MMET1B": 29862,
  "11MMET2C": 29893,
  "11MMET4D": 29941,
  "11MMET4E": 29942,
  "11MMET5F": 29970,
  "11MMET5G": 29971,
  "12MMET1A": 29863,
  "12MMET1B": 29864,
  "12MMET2C": 29894,
  "12MMET2D": 29895,
  "12MMET3E": 29918,
  "12MMET3F": 29919,
  "12MMET4G": 29943,
  "12MMET4H": 29944,
  "12MMET5I": 29972,
  "12MMET2B": 30064,
  "12MMET3D": 30067,
  "12MMET4F": 30072,
  "12MMET5H": 30075,
  "12MMET6I": 30080,
  "11PPHE1A": 29865,
  "12PPHE1A": 29866,
  "12PPHE4A": 30073,
  "11SPHY1A": 29867,
  "11SPHY1B": 29868,
  "11SPHY6C": 29996,
  "11SPHY6D": 29997,
  "12SPHY1A": 29869,
  "12SPHY1B": 29870,
  "12SPHY3C": 29920,
  "12SPHY3D": 29921,
  "12SPHY5E": 29975,
  "12SPHY5F": 29976,
  "12MSPE1A": 29871,
  "12MSPE1B": 29872,
  "12MSPE3C": 29923,
  "12MSPE4D": 29946,
  "12MSPE4E": 29947,
  "13UMAT1A": 29873,
  "12HLOT1A": 29874,
  "12HLOT2B": 29899,
  "12HLOT3C": 29925,
  "12HLOT4D": 29950,
  "12HLOT5E": 29978,
  "12HLOT6F": 30001,
  "11SCHE2A": 29878,
  "11SCHE2B": 29879,
  "11SCHE3C": 29903,
  "11SCHE3D": 29904,
  "11SCHE5E": 29956,
  "11SCHE5F": 29957,
  "11SCHE6G": 29983,
  "11SCHE6H": 29984,
  "12SCHE2A": 29880,
  "12SCHE2B": 29881,
  "12SCHE3C": 29905,
  "12SCHE3D": 29906,
  "12SCHE4E": 29932,
  "12SCHE4F": 29933,
  "12SCHE5G": 29958,
  "12SCHE5H": 29959,
  "12SCHE6I": 29985,
  "12DEDU2B": 29882,
  "12DEDU3C": 29908,
  "12DEDU5E": 29961,
  "12DEDU6F": 29986,
  "12DEDU1A": 30058,
  "12EENL2A": 29883,
  "12HGPL2A": 29888,
  "11HHIS2A": 29889,
  "12PMNT2B": 29890,
  "12PMNT3C": 29917,
  "12PMNT4D": 29940,
  "12PMNT5E": 29969,
  "12PMNT6F": 29993,
  "12PMNT1A": 30061,
  "11SMPA2A": 29891,
  "11SMPA2B": 29892,
  "11MSPE2A": 29896,
  "11MSPE2B": 29897,
  "11MSPE4C": 29948,
  "13UCLC2A": 29898,
  "11DEDU3C": 29907,
  "11DEDU4D": 29934,
  "11DEDU5E": 29960,
  "11DEDU1A": 30057,
  "11DEDU2B": 30063,
  "11HECO3A": 29909,
  "11HECO4B": 29935,
  "11EENL3A": 29910,
  "11EENL3B": 29911,
  "11ELIT3A": 29912,
  "12ELIT3A": 29913,
  "11SPSY3A": 29922,
  "11SPSY6B": 29998,
  "13UPHY3A": 29924,
  "12PSTD4A": 29928,
  "12MALG4A": 29929,
  "12MALG5B": 29953,
  "12LFRE4A": 29937,
  "12LFRE1A": 30059,
  "11HGEO4A": 29938,
  "12HGEO4A": 29939,
  "12HGEO1A": 30060,
  "12SPSY4A": 29945,
  "12SPSY5B": 29977,
  "13UCHE4A": 29949,
  "11SBIO5A": 29954,
  "11SBIO5B": 29955,
  "11SBIO6C": 29981,
  "11SBIO6D": 29982,
  "12HECO5A": 29962,
  "11SENV5A": 29965,
  "12SINV5A": 29966,
  "12SINV4A": 30070,
  "11LFRE5A": 29967,
  "11LJAP5A": 29968,
  "12AMUP5A": 29973,
  "11AMUP5A": 29974,
  "11HACC6A": 29980,
  "12EEAL6A": 29987,
  "12MFUR6A": 29991,
  "12LJAP6A": 29992,
  "11SMPB6A": 29994,
  "11SMPB6B": 29995,
  "13UBIO6A": 29999,
  "13UHIP6A": 30000,
  "STAFFDUTY_BEFORESCHOOL": 30002,
  "STAFFDUTY_OUTDOORFRONT": 30003,
  "STAFFDUTY_OUTDOORCOURT": 30004,
  "STAFFDUTY_GROUNDFLOOR1": 30005,
  "STAFFDUTY_GROUNDFLOOR2": 30006,
  "STAFFDUTY_LEVEL1": 30007,
  "STAFFDUTY_LEVEL2": 30008,
  "STAFFDUTY_AFTERSCHOOL": 30009,
  "MENTBB1": 30010,
  "MENTBB2": 30011,
  "MENTBB3": 30012,
  "MENTBB4": 30013,
  "MENTBB5": 30014,
  "MENTBB6": 30015,
  "MENTBB7": 30016,
  "MENTBB8": 30017,
  "MENTDY1": 30018,
  "MENTDY2": 30019,
  "MENTDY3": 30020,
  "MENTDY4": 30021,
  "MENTDY5": 30022,
  "MENTDY6": 30023,
  "MENTDY7": 30024,
  "MENTDY8": 30025,
  "MENTFL1": 30026,
  "MENTFL2": 30027,
  "MENTFL3": 30028,
  "MENTFL4": 30029,
  "MENTFL5": 30030,
  "MENTFL6": 30031,
  "MENTFL7": 30032,
  "MENTFL8": 30033,
  "MENTWD1": 30034,
  "MENTWD2": 30035,
  "MENTWD3": 30036,
  "MENTWD4": 30037,
  "MENTWD5": 30038,
  "MENTWD6": 30039,
  "MENTWD7": 30040,
  "MENTWD8": 30041,
  "12VET2B": 30065,
  "12VET5E": 30076,
  "12VET6F": 30081,
  "11PSTU3C": 30066
}

let getLessonsURL = 'https://jmss-vic.compass.education/Services/Activity.svc/GetLessonsByActivityId?sessionstate=readonly'
let submitDataURL = 'https://localhost/classes'

Object.keys(activities).forEach((classCode, i) => {
  setTimeout(() => {
    let activityId = activities[classCode].toString()

    $.ajax({
      type: 'POST',
      url: getLessonsURL,
      data: JSON.stringify({ activityId }),
      contentType: 'application/json; charset=utf-8',
      success: data => {
        let instances = data.d.Instances
        let classes = instances.map(instance => {
          return {
            classCode,
            students: instance.AttendeeUserIdList,
            start: instance.st,
            end: instance.fn,
            teacher: instance.CoveringIid || instance.m,
            location: instance.l
          }
        })
        $.ajax({
          type: 'POST',
          url: submitDataURL,
          data: JSON.stringify(classes),
          contentType: 'application/json; charset=utf-8'
        })
      },
      dataType: 'json'
    })
  }, i * 500)
})
