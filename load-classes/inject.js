let activities = { 
  "12SBIO1A": 30105,
  "12SBIO1B": 30106,
  "12SBIO4C": 30161,
  "12SBIO4D": 30162,
  "12SBIO6E": 30202,
  "11TCMP1A": 30107,
  "11TCMP1B": 30108,
  "11EEAL1A": 30109,
  "11EENG1A": 30110,
  "11EENG2B": 30129,
  "11EENG2C": 30130,
  "11EENG3D": 30151,
  "11EENG3E": 30152,
  "11EENG4F": 30166,
  "11EENG6G": 30207,
  "12EENG1A": 30111,
  "12EENG2B": 30131,
  "12EENG2C": 30132,
  "12EENG3D": 30153,
  "12EENG5E": 30187,
  "12EENG5F": 30188,
  "12EENG6G": 30208,
  "12EENG6H": 30209,
  "12SENV1A": 30112,
  "12SENV6B": 30210,
  "12LFRE1A": 30113,
  "12HGEO1A": 30114,
  "11MMET1A": 30115,
  "11MMET1B": 30116,
  "11MMET2C": 30137,
  "11MMET4D": 30170,
  "11MMET4E": 30171,
  "11MMET5F": 30192,
  "11MMET5G": 30193,
  "11MMET4H": 30261,
  "11MMET4I": 30268,
  "11MMET4J": 30275,
  "12MMET1A": 30117,
  "12MMET2B": 30138,
  "12MMET2C": 30139,
  "12MMET3D": 30154,
  "12MMET3E": 30155,
  "12MMET4F": 30172,
  "12MMET4G": 30173,
  "12MMET5H": 30194,
  "12MMET6I": 30215,
  "11PPHE1A": 30118,
  "11SPHY1A": 30119,
  "11SPHY6B": 30216,
  "11SPHY6C": 30217,
  "12SPHY1A": 30120,
  "12SPHY1B": 30121,
  "12SPHY3C": 30156,
  "12SPHY3D": 30157,
  "12SPHY5E": 30197,
  "12SPHY5F": 30198,
  "12MSPE1A": 30122,
  "12MSPE1B": 30123,
  "12MSPE3C": 30159,
  "12MSPE4D": 30176,
  "12MSPE4E": 30177,
  "11SCHE2A": 30124,
  "11SCHE2B": 30125,
  "11SCHE3C": 30142,
  "11SCHE3D": 30143,
  "11SCHE5E": 30182,
  "11SCHE5F": 30183,
  "11SCHE6G": 30203,
  "11SCHE6H": 30204,
  "12SCHE2A": 30126,
  "12SCHE2B": 30127,
  "12SCHE3C": 30144,
  "12SCHE3D": 30145,
  "12SCHE4E": 30163,
  "12SCHE4F": 30164,
  "12SCHE5G": 30184,
  "12SCHE5H": 30185,
  "12SCHE6I": 30205,
  "12EENL2A": 30128,
  "12HGPL2A": 30133,
  "11HHIS2A": 30134,
  "11SMPA2A": 30135,
  "11SMPA2B": 30136,
  "11MSPE2A": 30140,
  "11MSPE2B": 30141,
  "11MSPE4C": 30178,
  "11HECO3A": 30146,
  "11HECO4B": 30165,
  "11EENL3A": 30147,
  "11EENL3B": 30148,
  "11ELIT3A": 30149,
  "12ELIT3A": 30150,
  "11SPSY3A": 30158,
  "11SPSY6B": 30218,
  "12MALG4A": 30160,
  "12MALG5B": 30179,
  "12SINV4A": 30167,
  "11HGEO4A": 30168,
  "11HGPL4A": 30169,
  "12PPHE4A": 30174,
  "12SPSY4A": 30175,
  "12SPSY5B": 30199,
  "11SBIO5A": 30180,
  "11SBIO5B": 30181,
  "11SBIO6C": 30201,
  "12HECO5A": 30186,
  "11SENV5A": 30189,
  "11LFRE5A": 30190,
  "11LJAP5A": 30191,
  "12AMUP5A": 30195,
  "11AMUP5A": 30196,
  "11HACC6A": 30200,
  "12EEAL6A": 30206,
  "12MFUR6A": 30211,
  "12LJAP6A": 30212,
  "11SMPB6A": 30213,
  "11SMPB6B": 30214,
  "10MMAT1A": 30219,
  "10MMAT1B": 30226,
  "10MMAT2C": 30233,
  "10MMAT2D": 30240,
  "10MMAT3E": 30247,
  "10MMAT3F": 30254,
  "10EENG1A": 30220,
  "10EENG1B": 30227,
  "10EENG2C": 30234,
  "10EENG2D": 30241,
  "10EENG3E": 30248,
  "10EENG3F": 30255,
  "10EENG4G": 30262,
  "10EENG4H": 30269,
  "10EENG4I": 30276,
  "10SSCI1A": 30221,
  "10SSCI1B": 30228,
  "10SSCI2C": 30235,
  "10SSCI2D": 30242,
  "10SSCI3E": 30249,
  "10SSCI3F": 30256,
  "10SSCI4G": 30263,
  "10SSCI4H": 30270,
  "10SSCI4I": 30278,
  "10HISS1A": 30222,
  "10HISS1B": 30229,
  "10HISS2C": 30236,
  "10HISS2D": 30243,
  "10HISS3E": 30250,
  "10HISS3F": 30257,
  "10HISS4G": 30264,
  "10HISS4H": 30271,
  "10HISS4I": 30279,
  "10PPHE1A": 30223,
  "10PPHE1B": 30230,
  "10PPHE2C": 30237,
  "10PPHE2D": 30244,
  "10PPHE3E": 30251,
  "10PPHE3F": 30258,
  "10PPHE3G": 30265,
  "10SASP5A": 30224,
  "10SASP5B": 30231,
  "10SDDD6A": 30225,
  "10SDDD6B": 30232,
  "10SAFW5A": 30238,
  "10SAST6A": 30239,
  "10SAST6B": 30246,
  "10SMPH5A": 30245,
  "10SMPH5B": 30252,
  "10SPHA6A": 30253,
  "10SPHA6B": 30267,
  "10SPHA6C": 30274,
  "10SMBI5A": 30259,
  "10TSML6D": 30260,
  "10TSML5A": 30273,
  "10TSML5B": 30281,
  "10TSML5C": 30282,
  "10MNBM5A": 30266,
  "10LFRE4A": 30272,
  "10EEAL4A": 30277,
  "10LJAP4A": 30280,
  "10TGPD6A": 30283,
  "10STRM6A": 30284,
  "DUTYBS": 30386,
  "DUTYOF": 30387,
  "DUTYOC": 30388,
  "DUTYG1": 30389,
  "DUTYG2": 30390,
  "DUTYL1": 30391,
  "DUTYL2": 30392,
  "DUTYOB": 30393,
  "DUTYAS": 30394,
  "MENTBB1": 30293,
  "MENTBB2": 30294,
  "MENTBB3": 30295,
  "MENTBB4": 30296,
  "MENTBB5": 30297,
  "MENTBB6": 30298,
  "MENTBB7": 30299,
  "MENTBB8": 30300,
  "MENTDY1": 30301,
  "MENTDY2": 30302,
  "MENTDY3": 30303,
  "MENTDY4": 30304,
  "MENTDY5": 30305,
  "MENTDY6": 30306,
  "MENTDY7": 30307,
  "MENTDY8": 30308,
  "MENTFL1": 30309,
  "MENTFL2": 30310,
  "MENTFL3": 30311,
  "MENTFL4": 30312,
  "MENTFL5": 30313,
  "MENTFL6": 30314,
  "MENTFL7": 30315,
  "MENTFL8": 30316,
  "MENTWD1": 30317,
  "MENTWD2": 30318,
  "MENTWD3": 30319,
  "MENTWD4": 30320,
  "MENTWD5": 30321,
  "MENTWD6": 30322,
  "MENTWD7": 30323,
  "MENTWD8": 30324,
  "11PSTY8A": 30325,
  "11PSTY8B": 30326,
  "11PSTY8C": 30327,
  "11PSTY8D": 30328,
  "11PSTY8E": 30329,
  "11PSTY8F": 30330,
  "11PSTY8G": 30331,
  "11PSTY8H": 30332,
  "12PSTY8E": 30333,
  "12PSTY8F": 30334,
  "12PSTY8A": 30344,
  "12PSTY8H": 30345,
  "12PSTY8B": 30510,
  "12PSTY8C": 30511,
  "12PSTY8D": 30512,
  "12PSTY8G": 30513,
  "TRUMPETA": 30350,
  "TRUMPETB": 30352,
  "TRUMPETC": 30353,
  "TRUMPETD": 30354,
  "TRUMPETE": 30355,
  "TRUMPETF": 30356,
  "TRUMPETG": 30357,
  "TROMBONEA": 30358,
  "TROMBONEB": 30359,
  "ELECTRICBASSA": 30360,
  "MUSICEXECUTIVES": 30361,
  "CONCERTBANDB": 30362,
  "STAGEBANDB": 30363,
  "JMSSPEPBAND": 30364,
  "GUITARABIGAIL": 30365,
  "GUITARSHRUTI": 30366,
  "GUITARAKANKSHA": 30367,
  "GUITARAUDREINH": 30368,
  "GUITARTHARIN": 30369,
  "BASSSEVAN": 30370,
  "GUITARANDREI": 30371,
  "BASSEMILY": 30372,
  "GUITARZAREEF": 30373,
  "GUITARPARSA": 30374,
  "GUITARRYDHA": 30375,
  "GUITARBRIAN": 30376,
  "GUITARINDRA": 30377,
  "GUITARGIACINTA": 30378,
  "GUITARJYE": 30379,
  "GUITARLUNA": 30380,
  "GUITARDULANITHA": 30381,
  "GUITARANHTUAN": 30383,
  "GUITAREMIL": 30384,
  "ORCHESTRAB": 30385,
  "12PSTA1A": 30395,
  "12PSTA2B": 30403,
  "12PSTA3C": 30411,
  "12PSTA4D": 30418,
  "12PSTA5E": 30425,
  "12PSTA6F": 30432,
  "12PSTB1A": 30396,
  "12PSTB2B": 30404,
  "12PSTB3C": 30412,
  "12PSTB4D": 30419,
  "12PSTB6F": 30433,
  "11DEDU1A": 30397,
  "11DEDU2B": 30405,
  "11DEDU3C": 30413,
  "11DEDU5E": 30427,
  "12DEDU1A": 30398,
  "12DEDU2B": 30406,
  "12DEDU3C": 30414,
  "12DEDU4D": 30421,
  "12DEDU5E": 30428,
  "12PMNT1A": 30399,
  "12PMNT2B": 30407,
  "12PMNT3C": 30415,
  "12PMNT4D": 30422,
  "12PMNT5E": 30429,
  "12PMNT6F": 30435,
  "13UMAT1A": 30400,
  "12HLOT1A": 30401,
  "12HLOT2B": 30409,
  "12HLOT3C": 30417,
  "12HLOT4D": 30424,
  "12HLOT5E": 30430,
  "12HLOT6F": 30438,
  "13UDKR1A": 30402,
  "13UCLC2A": 30408,
  "13UPHY3A": 30416,
  "12VET2B": 30410,
  "12VET5E": 30431,
  "12VET6F": 30439,
  "13UBIO6A": 30436,
  "12PSTC4D": 30420,
  "12PSTC5E": 30426,
  "12PSTC6F": 30434,
  "13UHIP6A": 30437,
  "13UCHE4A": 30423,
  "11PSTU6F": 30500,
  "10LLOT4A": 30502
}


let getLessonsURL = 'https://jmss-vic.compass.education/Services/Activity.svc/GetLessonsByActivityId?sessionstate=readonly'
let submitDataURL = 'https://localhost/classes'

Object.keys(activities).forEach((classCode, i) => {
  setTimeout(() => {
    let activityId = activities[classCode].toString()

    $.ajax({
      type: 'POST',
      url: getLessonsURL,
      data: JSON.stringify({ activityId }),
      contentType: 'application/json; charset=utf-8',
      success: data => {
        let instances = data.d.Instances.filter(instance => instance.RunningStatus)
        let classes = instances.map(instance => {
          return {
            classCode,
            students: instance.AttendeeUserIdList,
            start: instance.st,
            end: instance.fn,
            teacher: instance.CoveringIid || instance.m,
            location: instance.l
          }
        })
        $.ajax({
          type: 'POST',
          url: submitDataURL,
          data: JSON.stringify(classes),
          contentType: 'application/json; charset=utf-8'
        })
      },
      dataType: 'json'
    })
  }, i * 500)
})
